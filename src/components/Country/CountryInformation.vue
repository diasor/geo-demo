<template>
  <div class="country-info-container">
    <country-header
      :countryName="country.name"
      :countryCapital="country.capital"
      :countryFlag="country.flag"
    />
    <v-divider class="ml-4 pb-0" />

    <v-container class="ml-1 pb-0">
      <v-row no-gutters class="d-flex flex-wrap mt-3">
        <v-col class="d-flex pr-1 flex-shrink-0"> Region: </v-col>
        <v-col class="d-flex pr-1 flex-shrink-0"><b> {{ country.region }} </b></v-col>
        <v-col class="d-flex pr-1 flex-shrink-0"> SubRegion: </v-col>
        <v-col class="d-flex pr-1 flex-shrink-0"><b>  {{ country.subregion }} </b></v-col>
      </v-row>
      <v-row no-gutters class="d-flex flex-wrap mt-3">
        <v-col class="d-flex pr-1 flex-shrink-0"> Denonym: </v-col>
        <v-col class="d-flex pr-1 flex-shrink-0"><b> {{ country.demonym }} </b></v-col>
        <v-col class="d-flex pr-1 flex-shrink-0"> Population: </v-col>
        <v-col class="d-flex pr-1 flex-shrink-0">
          <v-chip
              :color="populationColor(country.population)"
              dark
            >
            {{ country.population.toLocaleString() }}
          </v-chip>
        </v-col>

      </v-row>
      <v-row no-gutters class="d-flex flex-wrap mt-3">
        <v-col class="d-flex pr-1 flex-shrink-0"> Area: </v-col>
        <v-col class="d-flex pr-1 flex-shrink-0"><b> {{ country.area }} </b></v-col>  
        <v-col class="d-flex pr-1 flex-shrink-0">Time Zone: </v-col>
        <v-col class="d-flex pr-1 flex-shrink-0"><b> {{ country.timezones[0] }} </b></v-col>
      </v-row>
    </v-container>

    <v-card-subtitle class="mb-0 pb-0"><h3>Languages</h3></v-card-subtitle>
    <v-card-text>
      <v-chip-group
        column
        >
        <v-chip
          v-for="(language, i) in country.languages"
          :key="i"
        >
          {{ language.name }}
        </v-chip>
      </v-chip-group>
    </v-card-text>

    <v-card-subtitle class="pt-0 mb-0 pb-0"><h3>Borders</h3></v-card-subtitle>
    <v-card-text>
      <v-chip-group
        column
        >
        <v-chip
          v-for="(border, i) in countryBorders"
          :key="i"
        >
         {{ border }}
        </v-chip>
      </v-chip-group>
    </v-card-text>

    <v-card-subtitle class="pt-0 mb-0 pb-0"><h3>Currencies</h3></v-card-subtitle>
    <v-card-text class="mb-4 pb-4">
      <v-chip-group
        column
        >
        <v-chip
          v-for="(currency, i) in country.currencies"
          :key="i"
        >
         {{ currency.name }} ({{ currency.symbol }})
        </v-chip>
      </v-chip-group>
    </v-card-text>
  </div>
</template>

<script>
import { getPopulationColor } from '@/utils/utils.js';
import CountryHeader from "./CountryHeader.vue"

export default {
  name: 'CountryInformation',

  components: {
    CountryHeader
  },

  props: {
    country: {
      type: Object,
      default: () => {}
    },

    countryBorders: {
      type: Array,
      default: () => []
    }
  },

  methods: {
    populationColor(population) {
      return getPopulationColor(population);
    }
  }
};
</script>

<style lang="scss" scoped>
  .country-info-container {
    display: flex;
    flex-direction: column;
    margin: 0 4rem;
    padding: 0;
    height: 100%;
  }
</style>
